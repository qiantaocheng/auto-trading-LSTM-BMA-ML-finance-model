# å› å­éªŒè¯å’Œé‡æ–°è®­ç»ƒæ€»ç»“

## éªŒè¯ç»“æœ

### æ•°æ®æ–‡ä»¶
- **æ–‡ä»¶è·¯å¾„**: `D:\trade\data\factor_exports\polygon_factors_all_filtered_clean_final_v2.parquet`
- **éªŒè¯æ–¹æ³•**: ä½¿ç”¨ `Simple17FactorEngine` é‡æ–°è®¡ç®—æ¯ä¸ªå› å­ï¼Œä¸æ•°æ®æ–‡ä»¶ä¸­çš„å€¼è¿›è¡Œæ¯”è¾ƒ
- **éªŒè¯æ ·æœ¬**: 5ä¸ªæ—¥æœŸï¼Œæ¯ä¸ªæ—¥æœŸçº¦3000ä¸ªtickerï¼ˆç¡®ä¿æ ‡å‡†åŒ–æ­£ç¡®åº”ç”¨ï¼‰

### éªŒè¯ç»“æœç»Ÿè®¡
- **æ€»å› å­æ•°**: 15ä¸ª
- **éªŒè¯é€šè¿‡**: 13/15 (86.7%)
- **éªŒè¯å¤±è´¥**: 2/15 (13.3%)

### éªŒè¯é€šè¿‡çš„å› å­ (13ä¸ª)
1. âœ… `momentum_10d` - 100% åŒ¹é…
2. âœ… `liquid_momentum` - 100% åŒ¹é…
3. âœ… `obv_momentum_40d` - 100% åŒ¹é…
4. âœ… `ivol_30` - 100% åŒ¹é…
5. âœ… `rsi_21` - 100% åŒ¹é…
6. âœ… `trend_r2_60` - 100% åŒ¹é…
7. âœ… `ret_skew_30d` - 100% åŒ¹é…
8. âœ… `blowoff_ratio_30d` - 100% åŒ¹é…
9. âœ… `vol_ratio_30d` - 100% åŒ¹é…
10. âœ… `price_ma60_deviation` - 100% åŒ¹é…
11. âœ… `5_days_reversal` - 100% åŒ¹é…
12. âœ… `downside_beta_ewm_21` - 100% åŒ¹é…
13. âœ… `feat_vol_price_div_30d` - 100% åŒ¹é…

### éªŒè¯å¤±è´¥çš„å› å­ (2ä¸ª)
1. âŒ `near_52w_high` - 0.0% åŒ¹é…
   - **é—®é¢˜**: æ•°æ®æ–‡ä»¶ä¸­å¾ˆå¤šå€¼æ˜¯0ï¼Œä½†è®¡ç®—å‡ºçš„å€¼ä¸æ˜¯0
   - **å¯èƒ½åŸå› **: æ•°æ®æ–‡ä»¶ä¸­çš„å€¼å¯èƒ½è¢«æˆªæ–­ï¼ˆå°äºæŸä¸ªé˜ˆå€¼è®¾ä¸º0ï¼‰ï¼Œæˆ–æ ‡å‡†åŒ–åçš„å·®å¼‚
   - **å½±å“**: ä¸­ç­‰ï¼ˆè¯¥å› å­åœ¨15ä¸ªå› å­ä¸­ï¼‰

2. âŒ `atr_ratio` - 0.8% åŒ¹é…
   - **é—®é¢˜**: è®¡ç®—å‡ºçš„å€¼å’Œæ•°æ®æ–‡ä»¶ä¸­çš„å€¼å·®å¼‚å¾ˆå¤§
   - **å¯èƒ½åŸå› **: è®¡ç®—é€»è¾‘å·®å¼‚æˆ–æ ‡å‡†åŒ–æ—¶çš„å¾®å°å·®å¼‚
   - **å½±å“**: ä¸­ç­‰ï¼ˆè¯¥å› å­åœ¨15ä¸ªå› å­ä¸­ï¼‰

### éªŒè¯æ–¹æ³•è¯´æ˜
- **åŒ¹é…æ ‡å‡†**: 
  - ç»å¯¹è¯¯å·® < 0.001 æˆ–ç›¸å¯¹è¯¯å·® < 0.01 (1%)
  - æˆ–ä¸¤è€…éƒ½å¾ˆå°ï¼ˆç»å¯¹è¯¯å·® < 0.01 ä¸”ç›¸å¯¹è¯¯å·® < 0.1ï¼‰
- **éªŒè¯æ¨¡å¼**: ä½¿ç”¨ `predict` æ¨¡å¼ï¼ˆé¿å…dropnaåˆ é™¤æ ·æœ¬ï¼‰ï¼Œä½†ä»åº”ç”¨æ ‡å‡†åŒ–
- **æ ‡å‡†åŒ–**: å¯ç”¨æ¨ªæˆªé¢æ ‡å‡†åŒ–ï¼ˆä¸æ•°æ®æ–‡ä»¶ä¸€è‡´ï¼‰

## é‡æ–°è®­ç»ƒå’Œæµ‹è¯•

### è®­ç»ƒé…ç½®
- **è„šæœ¬**: `scripts/time_split_80_20_oos_eval.py`
- **æ•°æ®æ–‡ä»¶**: `polygon_factors_all_filtered_clean_final_v2.parquet`
- **è®­ç»ƒ/æµ‹è¯•åˆ†å‰²**: 80/20 (æ—¶é—´åºåˆ—åˆ†å‰²)
- **é¢„æµ‹horizon**: 10å¤© (T+10)
- **è¾“å‡ºç›®å½•**: `results/t10_time_split_80_20_validated`

### è®­ç»ƒçŠ¶æ€
- âœ… **è®­ç»ƒå·²å¯åŠ¨**ï¼ˆåå°è¿è¡Œï¼‰
- â³ **ç­‰å¾…è®­ç»ƒå®Œæˆ**

### é¢„æœŸè¾“å‡º
è®­ç»ƒå®Œæˆåï¼Œå°†åœ¨ `results/t10_time_split_80_20_validated/run_<timestamp>/` ç›®å½•ä¸‹ç”Ÿæˆï¼š
- `snapshot_id.txt` - æ¨¡å‹å¿«ç…§ID
- `report_df.csv` - è¯„ä¼°æŠ¥å‘Š
- `ridge_top20_timeseries.csv` - Top-20æ—¶é—´åºåˆ—
- `top20_vs_qqq.png` - Top-20 vs QQQå¯¹æ¯”å›¾
- `top20_vs_qqq_cumulative.png` - ç´¯è®¡æ”¶ç›Šå¯¹æ¯”å›¾

## ç»“è®º

### å› å­éªŒè¯
- **æ€»ä½“è¯„ä¼°**: âœ… **é€šè¿‡** (13/15å› å­éªŒè¯é€šè¿‡ï¼Œ86.7%)
- **æ•°æ®è´¨é‡**: å¤§éƒ¨åˆ†å› å­è®¡ç®—æ­£ç¡®ï¼Œæ•°æ®æ–‡ä»¶å¯ä»¥ç”¨äºè®­ç»ƒ
- **æ³¨æ„äº‹é¡¹**: 2ä¸ªå› å­ï¼ˆ`near_52w_high` å’Œ `atr_ratio`ï¼‰å­˜åœ¨å·®å¼‚ï¼Œä½†å¯èƒ½æ˜¯å¯æ¥å—çš„æ ‡å‡†åŒ–å·®å¼‚

### ä¸‹ä¸€æ­¥
1. âœ… å› å­éªŒè¯å®Œæˆ
2. âœ… é‡æ–°è®­ç»ƒå·²å¯åŠ¨
3. â³ ç­‰å¾…è®­ç»ƒå®Œæˆå¹¶æŸ¥çœ‹ç»“æœ
4. ğŸ“Š åˆ†æè®­ç»ƒç»“æœï¼Œç¡®è®¤æ¨¡å‹æ€§èƒ½

## éªŒè¯è„šæœ¬
- **è„šæœ¬è·¯å¾„**: `scripts/validate_factor_calculations_in_data.py`
- **ä½¿ç”¨æ–¹æ³•**:
  ```bash
  python scripts/validate_factor_calculations_in_data.py \
      --data-file "D:\trade\data\factor_exports\polygon_factors_all_filtered_clean_final_v2.parquet" \
      --num-samples 5
  ```

## è®­ç»ƒè„šæœ¬
- **è„šæœ¬è·¯å¾„**: `scripts/time_split_80_20_oos_eval.py`
- **ä½¿ç”¨æ–¹æ³•**:
  ```bash
  python scripts/time_split_80_20_oos_eval.py \
      --data-file "D:\trade\data\factor_exports\polygon_factors_all_filtered_clean_final_v2.parquet" \
      --split 0.8 \
      --horizon-days 10 \
      --output-dir "results/t10_time_split_80_20_validated"
  ```

---
**ç”Ÿæˆæ—¶é—´**: 2025-01-20
**çŠ¶æ€**: âœ… éªŒè¯å®Œæˆï¼Œè®­ç»ƒè¿›è¡Œä¸­
