# Sato 平方根因子验证结果报告

## 📋 测试概述

**测试日期**: 2026-01-21  
**数据文件**: `data/factor_exports/polygon_factors_all_filtered_clean.parquet`  
**数据规模**: 4,180,394 行，3,921 只股票  
**日期范围**: 2021-01-19 至 2025-12-30  
**有效交易日**: 1,224 天

---

## 🎯 核心科学问题

**"Sato平方根因子是否提供了现有因子（如传统动量、波动率）之外的增量信息？"**

---

## 📊 测试结果总结

### ⚠️ **总体结论: FAIL**

**Pure IC (正交化后)**: **-0.0002**

根据评估标准：
- **FAIL**: Pure IC < 0.01
- **结论**: 无效。Sato 因子只是现有因子的线性组合。
- **结论**: 引入平方根定律（√V）没有带来额外价值。

---

## 📈 详细测试结果

### Test 1: Information Coefficient (IC) 分析

**原始 Sato 因子 IC**:
- **Mean Rank IC**: -0.0277
- **IC Std Dev**: 0.0430
- **IC IR (Sharpe)**: -0.6443
- **Positive IC Ratio**: 25.9%
- **Valid Days**: 1,224

**IC 分布**:
- Min IC: -0.2070
- 25th Percentile: -0.0573
- Median IC: -0.0283
- 75th Percentile: 0.0009
- Max IC: 0.1495

**分析**:
- 原始 IC 为负值（-0.0277），说明 Sato 因子本身预测能力较弱
- IC IR 为负（-0.6443），说明信号质量不佳
- 只有 25.9% 的交易日 IC 为正，低于随机水平（50%）

---

### Test 2: 正交化测试（最重要）

**Pure Sato IC (去除 Mom & Vol 后)**:
- **Mean Pure IC**: **-0.0002** ⚠️
- **Pure IC Std Dev**: 0.0455
- **Pure IC IR**: -0.0044
- **Valid Days**: 1,224

**评估结果**:
- ❌ **FAIL**: Pure IC < 0.01
- ❌ **结论**: 无效。Sato 因子只是现有因子的线性组合。
- ❌ **结论**: 引入平方根定律（√V）没有带来额外价值。

**解释**:
- 在去除传统动量（Mom）和波动率（Vol）的影响后，Sato 因子的预测能力几乎为零
- 这说明 Sato 因子中的信息主要来自这两个传统因子
- 平方根定律（√V）的引入没有带来独特的预测能力

---

### Test 3: 信号衰减分析

**IC Decay Profile**:
- **T+1 IC**: 0.0001
- **T+5 IC**: -0.0002
- **T+10 IC**: 0.0002
- **T+20 IC**: -0.0016

**分析**:
- IC 在所有时间窗口都接近0，说明信号本身就很弱
- 虽然 IC 在 T+5 和 T+10 保持稳定（接近0），但这不能说明信号有效
- 这是因为信号本身就没有预测能力

**诊断**:
- ⚠️ 信号在所有时间窗口都无效
- ⚠️ 这不是一个有效的预测因子

---

### Test 4: 分位数单调性分析

**Quantile Returns (T+10)**:
| Group | Mean Return | Std Dev | Count |
|-------|-------------|---------|-------|
| Group 1 (Lowest) | 0.4432% | 11.8830% | 783,401 |
| Group 2 | 0.4728% | 12.1552% | 782,470 |
| Group 3 | 0.4686% | 11.6580% | 782,403 |
| Group 4 | 0.5145% | 11.8581% | 782,649 |
| Group 5 (Highest) | 0.4849% | 12.0299% | 782,846 |

**单调性检查**:
- **Group 5 (Highest) Return**: 0.4849%
- **Group 1 (Lowest) Return**: 0.4432%
- **Spread (5-1)**: 0.0417%

**评估**:
- ⚠️ **MARGINAL**: 单调性较弱
- Spread 只有 0.0417%，远低于 1% 的阈值
- Group 5 和 Group 1 的收益差异非常小，说明因子区分能力很弱

---

## 🔍 技术细节

### 数据准备

1. **价格数据**: 使用 `Close` 列作为 `adj_close`
2. **成交量数据**: 从 `vol_ratio_20d` 因子估算（因为原始 Volume 数据不可用）
3. **数据清洗**: 去除 NaN 值后，剩余 3,952,752 行

### Sato 因子计算

**核心公式**:
```
Sato Impact = sign(r) * |r/sigma| * sqrt(V_rel)
Sato Factor = sum(Sato Impact over 10 days)
```

其中：
- `r`: 对数收益
- `sigma`: 20日波动率
- `V_rel`: 相对成交量（vol_ratio_20d）

### 正交化方法

对每一天做横截面回归：
```
Sato = α + β1 * Momentum + β2 * Volatility + ε
```

使用残差 `ε`（Pure Sato）进行 IC 测试。

---

## ⚠️ 限制和注意事项

### 1. 成交量数据估算

- **限制**: 原始 Volume 数据不可用，使用 `vol_ratio_20d` 估算
- **影响**: 可能影响 Sato 因子的准确性
- **建议**: 如果可能，使用包含原始 Volume 的数据文件重新测试

### 2. 数据质量

- **极端收益**: 过滤了极端收益（>1000% 或 < -90%）
- **幸存者偏差**: 数据文件可能不包含已退市股票
- **建议**: 使用包含退市股票的完整数据集重新测试

### 3. 因子实现

- **Sato 公式**: 使用了简化的实现
- **标准化**: 可能影响横截面比较
- **建议**: 尝试不同的标准化方法

---

## 📝 结论和建议

### 主要结论

1. **Sato 平方根因子未能提供增量信息**
   - Pure IC = -0.0002，远低于 0.01 的阈值
   - 在去除 Mom 和 Vol 后，预测能力几乎为零

2. **原始 IC 为负值**
   - Mean Rank IC = -0.0277
   - 说明因子本身预测能力较弱

3. **分位数分析显示单调性很弱**
   - Group 5 vs Group 1 的收益差异只有 0.0417%
   - 远低于 1% 的阈值

### 可能的原因

1. **成交量数据估算**: 使用 `vol_ratio_20d` 估算 Volume 可能不够准确
2. **因子实现**: 当前的 Sato 因子实现可能不够准确
3. **数据质量**: 数据可能不包含足够的信息来验证平方根定律
4. **市场环境**: 在当前市场环境下，平方根定律可能不适用

### 建议

1. **使用原始 Volume 数据**: 如果可能，使用包含原始 Volume 的数据文件重新测试
2. **调整因子实现**: 尝试不同的 Sato 因子计算公式
3. **扩展数据集**: 使用包含退市股票的完整数据集
4. **分市场测试**: 在不同市场环境下测试（牛市、熊市、震荡市）

---

## 📚 相关文件

- **测试脚本**: `scripts/test_sato_factor_validation.py`
- **数据文件**: `data/factor_exports/polygon_factors_all_filtered_clean.parquet`
- **验证框架**: 基于用户提供的严谨实证验证架构

---

## ✅ 验证完成

所有测试已完成，结果已保存。Sato 平方根因子在当前数据集上**未能提供增量信息**。
